# MyFilter - è½»é‡çº§æ»¤æ³¢å™¨åº“
ä¸€ä¸ªç®€å•æ˜“ç”¨çš„ Python æ»¤æ³¢å™¨åº“ï¼ŒåŒ…å«å¤šç§å¸¸ç”¨çš„ä¸€ç»´æ•°æ®æ»¤æ³¢ç®—æ³•ã€‚

## é¡¹ç›®ç»“æ„

```
main/
â”œâ”€â”€ MyFilter/                    # ä¸»åŒ…ç›®å½•
â”‚   â”œâ”€â”€ EWMAFilter.py           # æŒ‡æ•°åŠ æƒç§»åŠ¨å¹³å‡æ»¤æ³¢å™¨
â”‚   â”œâ”€â”€ KalmanFilter.py         # å¡å°”æ›¼æ»¤æ³¢å™¨
â”‚   â”œâ”€â”€ SWMFilter.py            # æ»‘åŠ¨çª—å£å‡å€¼æ»¤æ³¢å™¨
â”‚   â””â”€â”€ __init__.py             # åŒ…åˆå§‹åŒ–æ–‡ä»¶
â”œâ”€â”€ LICENSE                     # è®¸å¯è¯æ–‡ä»¶
â”œâ”€â”€ README.md                   # é¡¹ç›®è¯´æ˜æ–‡æ¡£
â”œâ”€â”€ fileList.txt                # æ–‡ä»¶åˆ—è¡¨
â””â”€â”€ requirements.txt            # ä¾èµ–åŒ…åˆ—è¡¨
```

## ç‰¹æ€§

- ğŸš€ **è½»é‡çº§**ï¼šçº¯ Python å®ç°ï¼Œä¾èµ–ç®€å•
- ğŸ“¦ **å¼€ç®±å³ç”¨**ï¼šç®€å•çš„ API è®¾è®¡ï¼Œå¿«é€Ÿä¸Šæ‰‹
- ğŸ”§ **å¯æ‰©å±•**ï¼šæ˜“äºé›†æˆåˆ°ç°æœ‰é¡¹ç›®ä¸­
- ğŸ“Š **å¤šç§ç®—æ³•**ï¼šåŒ…å«ä¸‰ç§å¸¸ç”¨æ»¤æ³¢å™¨

## å®‰è£…

```bash
git clone https://github.com/LiO2-coder
/MyFilter.git
cd MyFilter
pip install -r requirements.txt
```

## ä¾èµ–

- Python 3.6+
- numpy>=1.19.0

## æ»¤æ³¢å™¨ä»‹ç»

### 1. æ»‘åŠ¨çª—å£å‡å€¼æ»¤æ³¢å™¨ (SWMFilter)
- **åŸç†**ï¼šä½¿ç”¨å›ºå®šå¤§å°çš„çª—å£ï¼Œè®¡ç®—çª—å£å†…æ•°æ®çš„ç®—æœ¯å¹³å‡å€¼
- **é€‚ç”¨åœºæ™¯**ï¼šæ•°æ®æ³¢åŠ¨è¾ƒå¤§ï¼Œéœ€è¦å¹³æ»‘å¤„ç†çš„åœºæ™¯
- **å‚æ•°**ï¼š`window_size` - çª—å£å¤§å°

### 2. æŒ‡æ•°åŠ æƒç§»åŠ¨å¹³å‡æ»¤æ³¢å™¨ (EWMAFilter)
- **åŸç†**ï¼šå¯¹å†å²æ•°æ®èµ‹äºˆæŒ‡æ•°è¡°å‡çš„æƒé‡ï¼Œæ–°æ•°æ®æƒé‡æ›´é«˜
- **é€‚ç”¨åœºæ™¯**ï¼šéœ€è¦å¿«é€Ÿå“åº”æ•°æ®å˜åŒ–ï¼ŒåŒæ—¶ä¿æŒä¸€å®šå¹³æ»‘æ€§
- **å‚æ•°**ï¼š`alpha` - å¹³æ»‘å› å­ (0-1)ï¼Œå€¼è¶Šå¤§å¯¹æ–°æ•°æ®å“åº”è¶Šå¿«

### 3. å¡å°”æ›¼æ»¤æ³¢å™¨ (KalmanFilter)
- **åŸç†**ï¼šåŸºäºçŠ¶æ€ç©ºé—´æ¨¡å‹ï¼Œé€šè¿‡é¢„æµ‹å’Œæ›´æ–°ä¸¤ä¸ªæ­¥éª¤è¿›è¡Œæœ€ä¼˜ä¼°è®¡
- **é€‚ç”¨åœºæ™¯**ï¼šç³»ç»Ÿæœ‰æ˜ç¡®æ¨¡å‹ï¼Œéœ€è¦æœ€ä¼˜ä¼°è®¡çš„åœºæ™¯
- **å‚æ•°**ï¼šå¤šç§çŠ¶æ€çŸ©é˜µå‚æ•°ï¼Œå¯æ ¹æ®ç³»ç»Ÿç‰¹æ€§è°ƒæ•´

## å¿«é€Ÿå¼€å§‹

### åŸºæœ¬ä½¿ç”¨

```python
from MyFilter import SWMFilter, EWMAFilter, KalmanFilter
import numpy as np

# ç”Ÿæˆç¤ºä¾‹æ•°æ®
data = np.random.randn(100) + 5  # å¸¦å™ªå£°çš„æ•°æ®

# æ»‘åŠ¨çª—å£å‡å€¼æ»¤æ³¢å™¨
swm_filter = SWMFilter(window_size=5)
filtered_swm = []
for value in data:
    result, is_full = swm_filter.update(value)
    filtered_swm.append(result)

# æŒ‡æ•°åŠ æƒç§»åŠ¨å¹³å‡æ»¤æ³¢å™¨
ewma_filter = EWMAFilter(alpha=0.3)
filtered_ewma = []
for value in data:
    result = ewma_filter.update(value)
    filtered_ewma.append(result)

# å¡å°”æ›¼æ»¤æ³¢å™¨
kf = KalmanFilter(x=0, Q=0.1, R=1)  # åˆå§‹çŠ¶æ€ä¸º0
filtered_kalman = []
for value in data:
    kf.update(value)
    filtered_kalman.append(kf.get_x())
```

### è¯¦ç»†ç¤ºä¾‹

```python
# æ»‘åŠ¨çª—å£å‡å€¼æ»¤æ³¢å™¨ç¤ºä¾‹
swm = SWMFilter(window_size=3)
print("SWMFilter ç¤ºä¾‹:")
for i, value in enumerate([1, 2, 3, 4, 5]):
    filtered, full_window = swm.update(value)
    print(f"è¾“å…¥: {value}, è¾“å‡º: {filtered:.2f}, çª—å£æ»¡: {full_window}")

# æŒ‡æ•°åŠ æƒç§»åŠ¨å¹³å‡æ»¤æ³¢å™¨ç¤ºä¾‹
ewma = EWMAFilter(alpha=0.5)
print("\nEWMAFilter ç¤ºä¾‹:")
for i, value in enumerate([1, 2, 3, 2, 1]):
    filtered = ewma.update(value)
    print(f"è¾“å…¥: {value}, è¾“å‡º: {filtered:.2f}")

# å¡å°”æ›¼æ»¤æ³¢å™¨ç¤ºä¾‹
kf = KalmanFilter(x=0, P=1, Q=0.1, R=1)
print("\nKalmanFilter ç¤ºä¾‹:")
measurements = [1.1, 1.9, 3.2, 4.1, 4.8]
for i, z in enumerate(measurements):
    kf.update(z)
    print(f"è§‚æµ‹å€¼: {z:.1f}, ä¼°è®¡å€¼: {kf.get_x():.2f}, å¡å°”æ›¼å¢ç›Š: {kf.get_KK():.3f}")
```

## API æ–‡æ¡£

### SWMFilter ç±»

```python
SWMFilter(window_size: int = 5)
```
- `update(new_value)`: æ›´æ–°æ»¤æ³¢å™¨ï¼Œè¿”å› (æ»¤æ³¢å€¼, çª—å£æ˜¯å¦æ»¡)
- `get_filted()`: è·å–å½“å‰æ»¤æ³¢å€¼
- `reset()`: é‡ç½®æ»¤æ³¢å™¨çŠ¶æ€

### EWMAFilter ç±»

```python
EWMAFilter(alpha: float = 0.3)
```
- `update(new_value)`: æ›´æ–°æ»¤æ³¢å™¨ï¼Œè¿”å›æ»¤æ³¢å€¼
- `get_filted()`: è·å–å½“å‰æ»¤æ³¢å€¼
- `set_alpha(alpha)`: è®¾ç½®å¹³æ»‘å› å­
- `reset(alpha=None)`: é‡ç½®æ»¤æ³¢å™¨

### KalmanFilter ç±»

```python
KalmanFilter(x, A=1, B=None, H=1, Q=0.1, R=1, P=1)
```
- `update(z)`: ä½¿ç”¨è§‚æµ‹å€¼æ›´æ–°æ»¤æ³¢å™¨
- `get_x()`: è·å–å½“å‰çŠ¶æ€ä¼°è®¡å€¼
- `get_KK()`: è·å–å½“å‰å¡å°”æ›¼å¢ç›Š
- `get_P()`: è·å–çŠ¶æ€ä¼°è®¡è¯¯å·®åæ–¹å·®
- `get_Q()`, `get_R()`: è·å–å™ªå£°åæ–¹å·®

## åº”ç”¨åœºæ™¯

- **ä¼ æ„Ÿå™¨æ•°æ®å¤„ç†**ï¼šæ¸©åº¦ã€æ¹¿åº¦ã€ä½ç½®ç­‰ä¼ æ„Ÿå™¨æ•°æ®çš„å¹³æ»‘å¤„ç†
- **é‡‘èæ—¶é—´åºåˆ—**ï¼šè‚¡ç¥¨ä»·æ ¼ã€æ±‡ç‡ç­‰é‡‘èæ•°æ®çš„è¶‹åŠ¿åˆ†æ
- **è¿åŠ¨è·Ÿè¸ª**ï¼šé¼ æ ‡è½¨è¿¹ã€ç‰©ä½“è¿åŠ¨è½¨è¿¹çš„å¹³æ»‘
- **ä¿¡å·å¤„ç†**ï¼šéŸ³é¢‘ä¿¡å·ã€ç”Ÿç‰©ä¿¡å·ç­‰ä¸€ç»´ä¿¡å·çš„å»å™ª

## TODO: å¼€å‘è®¡åˆ’(ä½œè€…ç»™è‡ªå·±ç”»é¥¼)

### æ»¤æ³¢å™¨æ‰©å±•
åç»­ç‰ˆæœ¬å°†å¢åŠ æ›´å¤šå®ç”¨çš„æ»¤æ³¢å™¨ç®—æ³•ï¼š
- **ä¸­å€¼æ»¤æ³¢å™¨** (Median Filter) - æœ‰æ•ˆå»é™¤è„‰å†²å™ªå£°
- **å·´ç‰¹æ²ƒæ–¯æ»¤æ³¢å™¨** (Butterworth Filter) - é¢‘åŸŸæ»¤æ³¢
- **ç²’å­æ»¤æ³¢å™¨** (Particle Filter) - éçº¿æ€§éé«˜æ–¯ç³»ç»Ÿ
- **æ— è¿¹å¡å°”æ›¼æ»¤æ³¢å™¨** (Unscented Kalman Filter) - éçº¿æ€§ç³»ç»Ÿ
- **æ‰©å±•å¡å°”æ›¼æ»¤æ³¢å™¨** (Extended Kalman Filter) - éçº¿æ€§ç³»ç»Ÿè¿‘ä¼¼

### å¡å°”æ›¼æ»¤æ³¢å™¨å‡çº§
å½“å‰ v1.0 ç‰ˆæœ¬ä¸ºç®€å•çš„ä¸€é˜¶å¡å°”æ›¼æ»¤æ³¢å™¨ï¼Œåç»­å°†æ›´æ–°ï¼š
- **å¤šç»´å¡å°”æ›¼æ»¤æ³¢å™¨** - æ”¯æŒå¤šçŠ¶æ€å˜é‡
- **è‡ªé€‚åº”å¡å°”æ›¼æ»¤æ³¢å™¨** - åŠ¨æ€è°ƒæ•´å™ªå£°å‚æ•°
- **è”é‚¦å¡å°”æ›¼æ»¤æ³¢å™¨** - å¤šä¼ æ„Ÿå™¨æ•°æ®èåˆ
- **å®¹ç§¯å¡å°”æ›¼æ»¤æ³¢å™¨** (Cubature Kalman Filter) - é«˜ç²¾åº¦éçº¿æ€§ä¼°è®¡

### å¼€å‘C++ç‰ˆæœ¬

## è´¡çŒ®

æ¬¢è¿æäº¤ Issue å’Œ Pull Requestï¼å¯¹äºæ–°åŠŸèƒ½å»ºè®®æˆ–é—®é¢˜åé¦ˆï¼Œè¯·åˆ›å»º GitHub Issueã€‚

## è®¸å¯è¯

æœ¬é¡¹ç›®é‡‡ç”¨ MIT è®¸å¯è¯ - æŸ¥çœ‹ [LICENSE](LICENSE) æ–‡ä»¶äº†è§£è¯¦æƒ…ã€‚

## ä½œè€…

- **LiO2** - [2099602919@qq.com](mailto:2099602919@qq.com)
- **GitHub**: [https://github.com/LiO2-coder](https://github.com/LiO2-coder)

## ç‰ˆæœ¬å†å²

- **v1.0** - åˆå§‹ç‰ˆæœ¬å‘å¸ƒ
  - å®ç°ä¸‰ç§åŸºæœ¬æ»¤æ³¢å™¨
  - æä¾›å®Œæ•´çš„ API æ–‡æ¡£å’Œç¤ºä¾‹

## æ”¯æŒ

å¦‚æœæ‚¨åœ¨ä½¿ç”¨è¿‡ç¨‹ä¸­é‡åˆ°ä»»ä½•é—®é¢˜ï¼Œå¯ä»¥é€šè¿‡ä»¥ä¸‹æ–¹å¼è”ç³»ï¼š
- é‚®ç®±: 2099602919@qq.com
- GitHub Issues: [é¡¹ç›® Issues é¡µé¢](https://github.com/LiO2-coder/MyFilter/issues)

---

â­ ç¬¬ä¸€æ¬¡ä¸Šä¼ é¡¹ç›®ï¼Œå¦‚æœè¿™ä¸ªé¡¹ç›®å¯¹æ‚¨æœ‰å¸®åŠ©ï¼Œè¯·ç»™ä¸ªStarï¼
